<!DOCTYPE html>
<html lang="zh-TW">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>十大通用能力探索</title>

<!-- 基本資訊 -->
<meta name="version" content="1.0">
<meta name="author" content="莊士勇 Steven">
<meta name="description" content="本測驗幫助使用者探索自己的十大通用能力，並根據結果提供個性化的職業發展與職涯規劃建議。">
<meta name="keywords" content="通用能力,職涯發展,自我探索,個人強項,職業規劃,十大能力,能力強項">

<!-- 社群分享設定 -->
<meta property="og:title" content="十大通用能力探索">
<meta property="og:description" content="探索您的十大通用能力，發現個人優勢並獲得職業發展與生涯規劃的建議。">
<meta property="og:image" content="ability_og_image.png">
<meta property="og:type" content="website">
<meta property="og:updated_time" content="2025-05-13T00:00:00Z">

<!-- 設置網站的縮略圖 -->
<link rel="icon" href="ability_icon.ico" type="image/x-icon" />

<!-- 釋出日期 -->
<meta property="article:published_time" content="2025-05-13T00:00:00Z">
<meta property="article:modified_time" content="2025-05-13T00:00:00Z">

  <style>
    body {
      font-family: Arial, sans-serif;
      margin: 0;
      padding: 0;
      background-color: #f4f4f9;
    }

    h1 {
      text-align: center;
      padding: 20px 0;
      margin: 0;
      background-color: #4CAF50;
      color: white;
      font-size: 24px;
      border-bottom: 4px solid #388E3C;
      box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
    }

    .card-container {
      display: flex;
      flex-wrap: wrap;
      gap: 20px;
      padding: 20px;
      justify-content: center;
    }

    .card {
      width: 200px;
      border: 1px solid #ddd;
      padding: 10px;
      border-radius: 8px;
      box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
      background-color: #fff;
      cursor: pointer;
      transition: transform 0.2s ease;
    }

    .card:hover {
      transform: scale(1.03);
    }

    h2 {
      padding-left: 20px;
      font-size: 20px;
  text-align: center;  /* 使文字置中 */
    }

    hr {
      border: none;
      border-top: 2px solid #ccc;
      margin: 20px 0 10px;
    }

    #selectedCount {
      color: #388E3C;
      font-weight: bold;
    }

    .card-number {
      font-weight: bold;
      margin-bottom: 5px;
      color: #4CAF50;
    }

    .finish-button {
      display: block;
      margin: 20px auto;
      padding: 10px 20px;
      font-size: 16px;
      background-color: #4CAF50;
      color: white;
      border: none;
      border-radius: 6px;
      cursor: pointer;
    }

    .finish-button:hover {
      background-color: #45a049;
    }

    #finalResult {
      padding: 20px;
      text-align: center; /* 使報告內容置中 */
    }

    #finalResult h3 {
      margin-bottom: 20px;
    }

    #finalResult ol, #finalResult ul {
      text-align: left; /* 讓列表的項目顯示為左對齊 */
      margin: 0 auto;
      padding-left: 20px;
      max-width: 700px; /* 限制最大寬度，避免內容太寬 */
    }

    #finalResult li {
      margin-bottom: 10px;
    }

.page-footer {
  background-color: #e8f5e9; /* 淺綠背景 */
  color: #2e7d32; /* 深綠字體 */
  text-align: center;
  padding: 15px 0;
  font-size: 14px;
  border-top: 2px solid #c8e6c9;
  margin-top: 40px;
}


  </style>
</head>
<body>
<h1>十大通用能力探索</h1>

<h2>通用能力選擇區</h2>
<div class="card-container" id="cardContainer"></div>

<hr> <!-- 已選擇區的分隔線 -->
<h2>已選擇的能力區 | 已選擇 <span id="selectedCount">0</span> 張</h2>
<div class="card-container" id="selectedContainer"></div>

<hr> <!-- 已排序區的分隔線 -->
<h2 id="sortedHeader">已排序的能力區 | 已排序 <span id="sortedCount">0</span> 張</h2>
<div class="card-container" id="sortedContainer"></div>

<!-- 完成排序按鈕 -->
<button class="finish-button" id="submitSortButton">完成排序</button>

<hr> <!-- 完成排序按鈕下方的分隔線 -->
<div id="finalResult" style="padding: 20px;"></div>

<footer class="page-footer">
  本能力探索參考 OECD 關鍵能力與教育部核心素養架構，<BR>並由 莊士勇 職涯諮詢師 依實務經驗優化設計。<BR>&copy; 2025 莊士勇｜GCDF全球職涯發展師
</footer>

<!-- 載入資料來源 -->
<script src="ability-cards.js"></script>

<script>
  const sortedCards = [];

  document.addEventListener("DOMContentLoaded", function () {
    renderAbilityCards(abilityCards);
  });

  function shuffleArray(array) {
    for (let i = array.length - 1; i > 0; i--) {
      const j = Math.floor(Math.random() * (i + 1));
      [array[i], array[j]] = [array[j], array[i]];
    }
  }

  function updateSelectedCount() {
    const count = document.getElementById('selectedContainer').children.length;
    document.getElementById('selectedCount').textContent = count;
  }

  function createCardElement(card, fromContainer, toContainer, reverse = false) {
    const cardElement = document.createElement('div');
    cardElement.classList.add('card');

    // 卡片標題
    const cardTitle = document.createElement('h3');
    cardTitle.textContent = card.title;

    // 卡片說明
    const cardDescription = document.createElement('p');
    cardDescription.textContent = card.description;

    cardElement.appendChild(cardTitle);
    cardElement.appendChild(cardDescription);

    cardElement.addEventListener('click', () => {
      fromContainer.removeChild(cardElement);

      // 如果移動到排序區，則加入 sortedCards，重新排序
      if (toContainer.id === 'sortedContainer') {
        sortedCards.push(card);
        const newCard = createSortedCard(card);
        toContainer.appendChild(newCard);
        updateSortedContainer(); // 更新已排序卡片
      }
      // 如果是從排序區回到已選擇區
      else if (toContainer.id === 'selectedContainer') {
        const index = sortedCards.findIndex(c => c.title === card.title);
        if (index !== -1) {
          sortedCards.splice(index, 1);
          updateSortedContainer(); // 更新已排序卡片
        }

        const newCard = createCardElement(card, toContainer, document.getElementById('sortedContainer'));
        toContainer.appendChild(newCard);
        updateSelectedCount(); // 更新已選擇數量
      } else {
        const newCard = createCardElement(card, toContainer, fromContainer, !reverse);
        toContainer.appendChild(newCard);
      }

      updateSelectedCount();
    });

    return cardElement;
  }

  function createSortedCard(card) {
    const cardElement = document.createElement('div');
    cardElement.classList.add('card');

    const number = document.createElement('div');
    number.classList.add('card-number');
    number.textContent = sortedCards.indexOf(card) + 1 + '.';

    const cardTitle = document.createElement('h3');
    cardTitle.textContent = card.title;

    const cardDescription = document.createElement('p');
    cardDescription.textContent = card.description;

    cardElement.appendChild(number);
    cardElement.appendChild(cardTitle);
    cardElement.appendChild(cardDescription);

    cardElement.addEventListener('click', () => {
      const index = sortedCards.findIndex(c => c.title === card.title);
      if (index !== -1) {
        sortedCards.splice(index, 1);
        updateSortedContainer();

        const selectedContainer = document.getElementById('selectedContainer');
        const newCard = createCardElement(card, selectedContainer, document.getElementById('sortedContainer'));
        selectedContainer.appendChild(newCard);
        updateSelectedCount();
      }
    });

    return cardElement;
  }

  function updateSortedContainer() {
    const container = document.getElementById('sortedContainer');
    container.innerHTML = '';  // 清空現有內容

    sortedCards.forEach(card => {
      const newCard = createSortedCard(card);
      container.appendChild(newCard);
    });

    // 更新已排序的能力數量
    document.getElementById('sortedCount').textContent = sortedCards.length;
  }

  function renderAbilityCards(cards) {
    shuffleArray(cards);
    const cardContainer = document.getElementById('cardContainer');
    const selectedContainer = document.getElementById('selectedContainer');

    cards.forEach(card => {
      const cardElement = createCardElement(card, cardContainer, selectedContainer);
      cardContainer.appendChild(cardElement);
    });
  }

  // 完成排序按鈕功能
  document.getElementById('submitSortButton').addEventListener('click', showFinalResult);

  function showFinalResult() {
    const resultContainer = document.getElementById('finalResult');
    resultContainer.innerHTML = '';

    const categoryCount = {};
    const allCategories = []; // 用來存儲所有類別

    const list = document.createElement('ol');

    sortedCards.forEach(card => {
      const item = document.createElement('li');
      item.textContent = `${card.category} - ${card.title}：${card.description}`;
      list.appendChild(item);

      if (card.category) {
        if (!categoryCount[card.category]) {
          categoryCount[card.category] = 0;
          allCategories.push(card.category); // 記錄所有的類別
        }
        categoryCount[card.category]++;
      }
    });

    const resultTitle = document.createElement('h3');
    resultTitle.textContent = '你排序後的能力清單：';
    resultContainer.appendChild(resultTitle);
    resultContainer.appendChild(list);

    const categoryTitle = document.createElement('h3');
    categoryTitle.textContent = '各類別張數統計：';
    resultContainer.appendChild(categoryTitle);

    const statsList = document.createElement('ul');

    // 根據張數進行排序，從多到少
    const sortedCategories = Object.keys(categoryCount).sort((a, b) => categoryCount[b] - categoryCount[a]);

    // 顯示按張數排序後的類別
    sortedCategories.forEach(category => {
      const li = document.createElement('li');
      li.textContent = `${category}：${categoryCount[category]} 張`;
      statsList.appendChild(li);
    });

    // 顯示未出現的類別（張數為 0）
    const uniqueCategories = [...new Set(allCategories)]; // 移除重複類別
    const allPossibleCategories = ['📖學習成長能力', '📅自我管理能力', '💬溝通表達能力', '🤝人際關係能力', '🧑‍🤝‍🧑團隊合作能力', '🧩問題解決能力', '💡創新思維能力', '💻數位應用能力']; // 所有可能的類別
    allPossibleCategories.forEach(category => {
      if (!uniqueCategories.includes(category)) {
        const li = document.createElement('li');
        li.textContent = `${category}：0 張`; // 顯示張數為 0 的類別
        statsList.appendChild(li);
      }
    });

    resultContainer.appendChild(statsList);
  }
</script>

</body>
</html>
