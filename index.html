<!DOCTYPE html>
<html lang="zh-TW">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>十大通用能力探索</title>

<!-- 基本資訊 -->
<meta name="version" content="1.0">
<meta name="author" content="莊士勇 Steven">
<meta name="description" content="本測驗幫助使用者探索自己的十大通用能力，並根據結果提供個性化的職業發展與職涯規劃建議。">
<meta name="keywords" content="通用能力,職涯發展,自我探索,個人強項,職業規劃,十大能力,能力強項">

<!-- 社群分享設定 -->
<meta property="og:title" content="十大通用能力探索">
<meta property="og:description" content="探索您的十大通用能力，發現個人優勢並獲得職業發展與生涯規劃的建議。">
<meta property="og:image" content="ability_og_image.png">
<meta property="og:type" content="website">
<meta property="og:updated_time" content="2025-05-13T00:00:00Z">

<!-- 設置網站的縮略圖 -->
<link rel="icon" href="ability_icon.ico" type="image/x-icon" />

<!-- 釋出日期 -->
<meta property="article:published_time" content="2025-05-13T00:00:00Z">
<meta property="article:modified_time" content="2025-05-13T00:00:00Z">

  <style>
/* 設定整體網頁的基本字型、外距、內距與背景顏色 */
body {
  font-family: Arial, sans-serif; /* 使用 Arial 無襯線字體，若無則使用系統預設的 sans-serif */
  margin: 0;                      /* 移除整體頁面的外距，避免預設空白 */
  padding: 0;                     /* 移除整體頁面的內距 */
  background-color: #f4f4f9;      /* 設定頁面背景為淡灰偏紫的顏色，給人柔和的感覺 */
}

/* 頁面主標題 h1 的樣式 */
h1 {
  text-align: center;             /* 文字置中 */
  padding: 20px 0;                /* 上下內距 20px，左右為 0 */
  margin: 0;                      /* 移除外距 */
  background-color: #4CAF50;      /* 設定背景色為綠色 */
  color: white;                   /* 字體為白色 */
  font-size: 24px;                /* 字體大小為 24px */
  border-bottom: 4px solid #388E3C; /* 底部加一條深綠色的邊框，增加層次感 */
  box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1); /* 增加陰影效果，讓標題有浮出來的感覺 */
}

/* 容器：用來排列所有卡片 */
.card-container {
  display: flex;                 /* 使用彈性盒模型排版 */
  flex-wrap: wrap;              /* 當空間不足時允許換行 */
  gap: 10px;                    /* 卡片之間的間距為 20px */
  padding: 10px;                /* 容器內距 20px */
  justify-content: center;     /* 所有卡片在容器內置中對齊 */
}

/* 每一張卡片的樣式 */
.card {
  width: 150px;                 /* 固定卡片寬度為 200px */
  border: 1px solid #ddd;       /* 外框為淺灰色細線 */
  padding: 0px 10px;            /* 上下內距 8px、左右 10px */
  border-radius: 8px;           /* 圓角 8px，讓卡片邊緣較柔和 */
  box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1); /* 添加細緻陰影效果 */
  background-color: #fff;       /* 背景為白色 */
  cursor: pointer;              /* 滑鼠移上去變成手指圖示 */
  transition: transform 0.2s ease; /* 定義變形動畫效果（滑鼠 hover） */
}

/* 滑鼠移到卡片上時的動畫效果 */
.card:hover {
  transform: scale(1.03);       /* 放大 3%，提供微互動感受 */
}

/* 第二層標題 h2 樣式（用於分段或小標） */
h2 {
  padding-left: 20px;           /* 左側內距 20px */
  font-size: 20px;              /* 字體大小為 20px */
  text-align: center;           /* 文字置中 */
}

/* 水平線樣式，用於分隔區塊 */
hr {
  border: none;                 /* 移除預設邊框樣式 */
  border-top: 2px solid #ccc;   /* 改為上方的灰色線條 */
  margin: 20px 0 10px;          /* 上 20px、下 10px 的外距 */
}

/* 顯示已選擇數量的樣式 */
#selectedCount {
  color: #388E3C;               /* 深綠色字體 */
  font-weight: bold;           /* 加粗文字 */
}

/* 卡片上顯示的序號（例如：#1、#2）樣式 */
.card-number {
  font-weight: bold;           /* 加粗文字 */
  margin-bottom: 5px;          /* 下方間距 5px */
  color: #4CAF50;              /* 使用主題綠色 */
}

/* 完成按鈕樣式 */
.finish-button {
  display: block;              /* 設定為區塊元素 */
  margin: 20px auto;           /* 上下間距 20px，左右自動置中 */
  padding: 10px 20px;          /* 上下 10px、左右 20px 的內距 */
  font-size: 16px;             /* 字體大小 16px */
  background-color: #4CAF50;   /* 按鈕底色為主題綠色 */
  color: white;                /* 字體為白色 */
  border: none;                /* 移除邊框 */
  border-radius: 6px;          /* 圓角 6px */
  cursor: pointer;             /* 滑鼠移過去顯示手指圖示 */
}

/* 滑鼠移到按鈕時的顏色變化 */
.finish-button:hover {
  background-color: #45a049;   /* 改為稍微深一點的綠色 */
}

/* 最終結果顯示區域的容器樣式 */
#finalResult {
  padding: 20px;               /* 內距 20px */
  text-align: center;          /* 整體文字置中 */
}

/* 結果區塊內的標題樣式 */
#finalResult h3 {
  margin-bottom: 20px;         /* 標題下方的間距 */
}

/* 結果內的有序與無序清單統一設定 */
#finalResult ol, #finalResult ul {
  text-align: left;            /* 將項目文字靠左對齊 */
  margin: 0 auto;              /* 左右自動置中，搭配 max-width 限制寬度 */
  padding-left: 20px;          /* 左側縮排 20px，保持清單結構 */
  max-width: 700px;            /* 限制清單最大寬度，避免過寬影響閱讀 */
}

/* 清單每一項的間距設定 */
#finalResult li {
  margin-bottom: 10px;         /* 每一項下方間距 10px，增加可讀性 */
}

/* 頁尾樣式：簡單說明、版權、聯絡資訊等可放這裡 */
.page-footer {
  background-color: #e8f5e9;   /* 使用非常淡的綠色作為背景 */
  color: #2e7d32;              /* 使用較深的綠色作為文字顏色 */
  text-align: center;          /* 文字置中 */
  padding: 15px 0;             /* 上下內距 15px */
  font-size: 14px;             /* 字體大小較小，適合頁尾資訊 */
  border-top: 2px solid #c8e6c9; /* 頁尾上方加一道分隔線，為淡綠色 */
  margin-top: 40px;            /* 與上方內容保持適當距離 */
}
  </style>
</head>
<body>
<h1>十大通用能力探索</h1>

<h2>通用能力選擇區</h2>
<div class="card-container" id="cardContainer"></div>

<hr> <!-- 已選擇區的分隔線 -->
<h2>已選擇的能力區 | 已選擇 <span id="selectedCount">0</span> 張</h2>
<div class="card-container" id="selectedContainer"></div>

<hr> <!-- 已排序區的分隔線 -->
<h2 id="sortedHeader">已排序的能力區 | 已排序 <span id="sortedCount">0</span> 張</h2>
<div class="card-container" id="sortedContainer"></div>

<!-- 完成排序按鈕 -->
<button class="finish-button" id="submitSortButton">完成排序</button>

<hr> <!-- 完成排序按鈕下方的分隔線 -->
<div id="finalResult" style="padding: 20px;"></div>

<footer class="page-footer">
  本能力探索參考 OECD 關鍵能力與教育部核心素養架構，<BR>並由 莊士勇 職涯諮詢師 依實務經驗優化設計。<BR>&copy; 2025 莊士勇｜GCDF全球職涯發展師
</footer>

<!-- 載入資料來源 -->
<script src="ability-cards.js"></script>

<script>
  const sortedCards = [];

  document.addEventListener("DOMContentLoaded", function () {
    renderAbilityCards(abilityCards);
  });

  function shuffleArray(array) {
    for (let i = array.length - 1; i > 0; i--) {
      const j = Math.floor(Math.random() * (i + 1));
      [array[i], array[j]] = [array[j], array[i]];
    }
  }

  function updateSelectedCount() {
    const count = document.getElementById('selectedContainer').children.length;
    document.getElementById('selectedCount').textContent = count;
  }

  function createCardElement(card, fromContainer, toContainer, reverse = false) {
    const cardElement = document.createElement('div');
    cardElement.classList.add('card');

    // 卡片標題
    const cardTitle = document.createElement('h3');
    cardTitle.textContent = card.title;

    // 卡片說明
    const cardDescription = document.createElement('p');
    cardDescription.textContent = card.description;

    cardElement.appendChild(cardTitle);
    cardElement.appendChild(cardDescription);

    cardElement.addEventListener('click', () => {
      fromContainer.removeChild(cardElement);

      // 如果移動到排序區，則加入 sortedCards，重新排序
      if (toContainer.id === 'sortedContainer') {
        sortedCards.push(card);
        const newCard = createSortedCard(card);
        toContainer.appendChild(newCard);
        updateSortedContainer(); // 更新已排序卡片
      }
      // 如果是從排序區回到已選擇區
      else if (toContainer.id === 'selectedContainer') {
        const index = sortedCards.findIndex(c => c.title === card.title);
        if (index !== -1) {
          sortedCards.splice(index, 1);
          updateSortedContainer(); // 更新已排序卡片
        }

        const newCard = createCardElement(card, toContainer, document.getElementById('sortedContainer'));
        toContainer.appendChild(newCard);
        updateSelectedCount(); // 更新已選擇數量
      } else {
        const newCard = createCardElement(card, toContainer, fromContainer, !reverse);
        toContainer.appendChild(newCard);
      }

      updateSelectedCount();
    });

    return cardElement;
  }

  function createSortedCard(card) {
    const cardElement = document.createElement('div');
    cardElement.classList.add('card');

    const number = document.createElement('div');
    number.classList.add('card-number');
    number.textContent = sortedCards.indexOf(card) + 1 + '.';

    const cardTitle = document.createElement('h3');
    cardTitle.textContent = card.title;

    const cardDescription = document.createElement('p');
    cardDescription.textContent = card.description;

    cardElement.appendChild(number);
    cardElement.appendChild(cardTitle);
    cardElement.appendChild(cardDescription);

    cardElement.addEventListener('click', () => {
      const index = sortedCards.findIndex(c => c.title === card.title);
      if (index !== -1) {
        sortedCards.splice(index, 1);
        updateSortedContainer();

        const selectedContainer = document.getElementById('selectedContainer');
        const newCard = createCardElement(card, selectedContainer, document.getElementById('sortedContainer'));
        selectedContainer.appendChild(newCard);
        updateSelectedCount();
      }
    });

    return cardElement;
  }

  function updateSortedContainer() {
    const container = document.getElementById('sortedContainer');
    container.innerHTML = '';  // 清空現有內容

    sortedCards.forEach(card => {
      const newCard = createSortedCard(card);
      container.appendChild(newCard);
    });

    // 更新已排序的能力數量
    document.getElementById('sortedCount').textContent = sortedCards.length;
  }

  function renderAbilityCards(cards) {
    shuffleArray(cards);
    const cardContainer = document.getElementById('cardContainer');
    const selectedContainer = document.getElementById('selectedContainer');

    cards.forEach(card => {
      const cardElement = createCardElement(card, cardContainer, selectedContainer);
      cardContainer.appendChild(cardElement);
    });
  }

  // 完成排序按鈕功能
  document.getElementById('submitSortButton').addEventListener('click', showFinalResult);

  function showFinalResult() {
    const resultContainer = document.getElementById('finalResult');
    resultContainer.innerHTML = '';

    const categoryCount = {};
    const allCategories = []; // 用來存儲所有類別

    const list = document.createElement('ol');

    sortedCards.forEach(card => {
      const item = document.createElement('li');
      item.textContent = `${card.category} - ${card.title}：${card.description}`;
      list.appendChild(item);

      if (card.category) {
        if (!categoryCount[card.category]) {
          categoryCount[card.category] = 0;
          allCategories.push(card.category); // 記錄所有的類別
        }
        categoryCount[card.category]++;
      }
    });

    const resultTitle = document.createElement('h3');
    resultTitle.textContent = '你排序後的能力清單：';
    resultContainer.appendChild(resultTitle);
    resultContainer.appendChild(list);

    const categoryTitle = document.createElement('h3');
    categoryTitle.textContent = '各類別張數統計：';
    resultContainer.appendChild(categoryTitle);

    const statsList = document.createElement('ul');

    // 根據張數進行排序，從多到少
    const sortedCategories = Object.keys(categoryCount).sort((a, b) => categoryCount[b] - categoryCount[a]);

    // 顯示按張數排序後的類別
    sortedCategories.forEach(category => {
      const li = document.createElement('li');
      li.textContent = `${category}：${categoryCount[category]} 張`;
      statsList.appendChild(li);
    });

    // 顯示未出現的類別（張數為 0）
    const uniqueCategories = [...new Set(allCategories)]; // 移除重複類別
    const allPossibleCategories = ['📖學習成長能力', '📅自我管理能力', '💬溝通表達能力', '🤝人際關係能力', '🧑‍🤝‍🧑團隊合作能力', '🧩問題解決能力', '💡創新思維能力', '💻數位應用能力']; // 所有可能的類別
    allPossibleCategories.forEach(category => {
      if (!uniqueCategories.includes(category)) {
        const li = document.createElement('li');
        li.textContent = `${category}：0 張`; // 顯示張數為 0 的類別
        statsList.appendChild(li);
      }
    });

    resultContainer.appendChild(statsList);
  }
</script>

</body>
</html>
